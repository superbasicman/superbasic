# Server Configuration
PORT=3000
NODE_ENV=development

# Database
DATABASE_URL=postgresql://user:password@localhost:5432/superbasic_finance

# Authentication (auth-core)
# TOKEN_HASH_KEYS: JSON object of { keyId: secret } used for hashing opaque tokens (refresh/PAT/verification/session-transfer)
# AUTH_SECRET (optional): fallback token hash secret for local dev if TOKEN_HASH_KEYS is not set
# Example: openssl rand -base64 32
TOKEN_HASH_KEYS={"v1":"your-token-hash-secret"}
AUTH_SECRET=

# Base URL for auth-core (used for OAuth/OIDC callbacks)
# Development: http://localhost:3000
# Production: https://api.superbasicfinance.com
AUTH_URL=http://localhost:3000
# Trust the host from AUTH_URL or request headers (set to true in development)
AUTH_TRUST_HOST=true
# Web app URL (where to redirect after OAuth sign-in)
# Development: http://localhost:5173
# Production: https://www.superbasicfinance.com
WEB_APP_URL=http://localhost:5173

# Access token signing (JWT)
# Provide a base64-encoded PKCS8 PEM or the full PEM string
AUTH_JWT_KEY_ID=dev-access-key
AUTH_JWT_PRIVATE_KEY=base64-encoded-private-key
AUTH_JWT_ISSUER=http://localhost:3000
AUTH_JWT_AUDIENCE=http://localhost:3000/v1

# Access token signing (JWT)
# Provide a base64-encoded PKCS8 PEM or the full PEM string
AUTH_JWT_KEY_ID=dev-access-key
AUTH_JWT_PRIVATE_KEY=base64-encoded-private-key
AUTH_JWT_ISSUER=http://localhost:3000
AUTH_JWT_AUDIENCE=http://localhost:3000/v1

# Rate Limiting (Optional - Upstash Redis)
# If not configured, rate limiting will be disabled in development
# Get credentials from: https://console.upstash.com/
UPSTASH_REDIS_REST_URL=https://your-redis-instance.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-redis-token

# OAuth Providers (Optional - for social login)
# Google OAuth - Get credentials from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# GitHub OAuth - Get credentials from: https://github.com/settings/developers
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# Email Provider (Optional - for magic links)
# Resend API key - Get from: https://resend.com/api-keys
RESEND_API_KEY=re_your_api_key_here
# Email from address (use onboarding@resend.dev for testing, or your verified domain)
EMAIL_FROM=onboarding@resend.dev

# Plaid Integration (Phase 4)
# Get credentials from: https://dashboard.plaid.com/team/keys
# Environment: sandbox (development/testing), development (limited free), production (live)
PLAID_ENV=sandbox
PLAID_CLIENT_ID=your_plaid_client_id
PLAID_SECRET=your_plaid_secret
# Encryption key for access tokens (generate with: openssl rand -base64 32)
PLAID_ACCESS_TOKEN_ENCRYPTION_KEY=your_base64_encryption_key
# Products to enable (comma-separated): transactions, auth, balance, identity, investments
PLAID_PRODUCTS=transactions
# Country codes (comma-separated): US, CA, GB, FR, ES, NL, etc.
PLAID_COUNTRY_CODES=US
# OAuth redirect URI (must be added to Plaid dashboard)
PLAID_REDIRECT_URI=http://localhost:5173/oauth/callback
# Webhook URL (optional - must be HTTPS in production)
# PLAID_WEBHOOK_URL=https://your-domain.com/v1/webhooks/plaid
